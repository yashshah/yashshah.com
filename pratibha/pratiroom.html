<html>
<head>
	<script type="text/javascript" src="scripts/jquery-1.8.1.min.js"></script>
	<script type="text/javascript" src="scripts/core.js"></script>
</head>
<body onload="start()">
	<canvas id="graphics" style="position:absolute; top:0; left:0; border:solid;"></canvas>

</body>
</html>

<script>
say("Daisy:", "Prati! Wake up! Yash is on his way, get Dressed");
alert("Use arrows to move");
var step = 10;

var nisha_down = "content/nisha/front.png";
var nisha_right = "content/nisha/right.png";
var nisha_left = "content/nisha/left.png";
var nisha_up = "content/nisha/back.png";
var nisha_sleep = "content/nisha/sleep.png";
var nisha_bed = "content/furnature/nisha_bed.png";
var nisha_dresser = "content/furnature/nisha_dresser.png"
var nisha_mirror = "content/furnature/nisha_mirror.png";
var nisha_shoes = "content/furnature/nisha_shoes.png";

var dressed = false;
var hairDone = false;
var shoesPicked = false;

var clothes = "";
var hair = "";
var shoes = "";

var canvasPoint = new point(getPageSize().x/4, getPageSize().y/2);

var nisha = new object(
	new point(0,canvasPoint.y/2),
	nisha_sleep);
	
var nisha_bed = new object(
	new point (0,canvasPoint.y/2),
	nisha_bed);
	
var nisha_dresser = new object(
	new point(canvasPoint.x-75, canvasPoint.y/2-25),
	nisha_dresser);	
	
var nisha_mirror = new object(
	new point(canvasPoint.x/2, 0),
	nisha_mirror);

var nisha_shoes = new object(
	new point(10, 10),
	nisha_shoes);

window.addEventListener('keydown',doKeyDown,true);
window.addEventListener('keydown',getDressed,true);
window.addEventListener('keydown',fixHair,true);
window.addEventListener('keydown',pickShoes,true);
window.addEventListener('keydown',done,true);

///////////////////
// end script
///////////////////

function doKeyDown(e) {
		var code = e.keyCode ? e.keyCode : e.which;
		switch (code) {
		case 38: //w
			nisha.img = nisha_up;
			if(!nisha.willLeaveUp(step))
				nisha.moveUp(step);
		break;
		case 37: //a
			nisha.img = nisha_left;
			if(!nisha.willLeaveLeft(step))
				nisha.moveLeft(step);
		break;
		case 40: //s
			nisha.img = nisha_down;
			if(!nisha.willLeaveDown(step))
				nisha.moveDown(step);
		break;
		case 39: //d
			nisha.img = nisha_right;
			if(!nisha.willLeaveRight(step))
				nisha.moveRight(step);
		break; 
	}
}

function getDressed() {
	var dresserRangeX = numberRange(Math.round(nisha_dresser.topLeft.x-30), Math.round(nisha_dresser.topLeft.x+100));
	var dresserRangeY = numberRange(Math.round(nisha_dresser.topLeft.y-30), Math.round(nisha_dresser.topLeft.y+100));
	
	if(!dressed && $.inArray(nisha.topLeft.x, dresserRangeX) != -1 && $.inArray(nisha.topLeft.y, dresserRangeY) != -1) {
		alert ("Time to get dressed.");
		while(dressed!=true)
		{
			var reply = prompt("What will you wear?\n1. T-shirt\n2. Turtle-neck Sweater\n3. Dress", "3");
			switch(reply) {
			case "1":
				alert("T-shirt... Really? Guess you're not trying tonight!");
				clothes = "T-shirt";
			break;
			case "2":
				alert("Turtle-neck? I don't think this is going to last...");
				clothes = "Turtle-neck";
			break;
			case "3":
				alert("A dress! Good choice :)");
				clothes = "Dress";
				dressed = true;
			break;
			}
		}
		
		if(!done)
			alert("If you havn't, head over to the mirror and fix your hair or the shoes to pick out shoes");
	}
}

function fixHair() {
	mirrorRangeX = numberRange(Math.round(nisha_mirror.topLeft.x), Math.round(nisha_mirror.topLeft.x+50));
	mirrorRangeY = numberRange(Math.round(nisha_mirror.topLeft.y), Math.round(nisha_mirror.topLeft.y+50));
	
	if(!hairDone && $.inArray(nisha.topLeft.x, mirrorRangeX) != -1 && $.inArray(nisha.topLeft.y, mirrorRangeY) != -1) {
		alert("Time to fix your hair.");
		while(hairDone!=true)
		{
			var reply = prompt("How will it look?\n1. Bun\n2. Pony-tail\n3. Straight", "3");
			switch(reply) {
			case "1":
				alert("Bun... Really? A BUN???!!");
				hair = "Bun";
			break;
			case "2":
				alert("Pony-tail? What are you going to paint a room?");
				hair = "Pony-tail";
			break;
			case "3":
				alert("Straight? Sounds good to me!");
				hair = "Straight";
				hairDone = true;
			break;
			}
		}
		
		if(!done)
			alert("If you havn't, head over to the dresser to get dressed or the shoes to pick out shoes");
	}
}

function pickShoes() {
	var shoeRangeX = numberRange(Math.round(nisha_shoes.topLeft.x), Math.round(nisha_shoes.topLeft.x+50));
	var shoeRangeY = numberRange(Math.round(nisha_shoes.topLeft.y), Math.round(nisha_shoes.topLeft.y+50));
	
	if(!shoesPicked && $.inArray(nisha.topLeft.x, shoeRangeX) != -1 && $.inArray(nisha.topLeft.y, shoeRangeY) != -1) {
		alert("Time to pick your shoes.");
		while(shoesPicked!=true)
		{

			var reply = prompt("Which will you wear?\n1. Sneakers\n2. Flip-flops\n3. Heels", "3");
			switch(reply) {
			case "1":
				alert("Sneakers?? Guess you're going for a run?");
				shoes = "Sneakers";
			break;
			case "2":
				alert("Flip-flops? Casual time");
				shoes = "Flip-flops";
			break;
			case "3":
				alert("Heels... That a girl :)");
				shoes = "Heels";
				shoesPicked = true;
			break;
			}
		}
		
		if(!done)
			alert("If you havn't, head over to the dresser to get dressed or the mirror to fix your hair");
	}
}

function done() {
	if (dressed && hairDone && shoesPicked) {
		alert("Your all dressed!\n\nYou are wearing: " + clothes + ", " + hair + ", " + shoes);
		window.location = 'dinner.html'
	}
	
}

function draw() {
	drawImage(nisha_bed.img, nisha_bed.topLeft.x, nisha_bed.topLeft.y);
	drawImage(nisha_dresser.img, nisha_dresser.topLeft.x, nisha_dresser.topLeft.y);
	drawImage(nisha_mirror.img, nisha_mirror.topLeft.x, nisha_mirror.topLeft.y);
	drawImage(nisha_shoes.img, nisha_shoes.topLeft.x, nisha_shoes.topLeft.y);
	drawImage(nisha.img, nisha.topLeft.x, nisha.topLeft.y);
}
</script>